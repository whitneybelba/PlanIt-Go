{% extends 'base.html' %}
{% block content %}
<title>Results</title>
<head>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <link rel="stylesheet" href="http://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/css/bootstrap.min.css">
  <script src="https://ajax.googleapis.com/ajax/libs/jquery/1.12.4/jquery.min.js"></script>
  <script src="http://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/js/bootstrap.min.js"></script>
</head>
<body>
{% if restaurant_list[0] %}            
<h4>Here are some restaurant<br>options you might like:</h4>
<div class="container">
  <table class="table table-bordered">
    <thead>
      <tr>
        <th>Restaurant Name</th>
        <th>Rating</th>
        <th>Number of Reviews</th>
        <th>City</th>
        <th>Categories</th>
        <th>Add to Trip?</th>
      </tr>
    </thead>
    <tbody>
      <tr>
        <!-- data is in the form of dictionaries in a list in a list -->
        {% for category in restaurant_list %}
        {% for restaurant in category %}
        <!-- restaurant is a ditionary with lists and dicts in it -->
        <td><a href="{{ restaurant['url'] }}" target="_blank">
        {{ restaurant['name'] }}</a></td>
        <td><img src="{{ restaurant['rating_img_url'] }}"></td>
        <td>{{ restaurant['review_count']}}</td>
        <td>{{ restaurant['location']['city'] }}</td>
        <td>{{ restaurant['category'] }}</td>
        <td><button type="button" class="btn">Add</button></td>
        {# <!-- <td><a href="/showmap?lat={{restaurant['lat']}}">Show Map</a></td> --> #}
        {# <!-- <td data-lat="{{ restaurant['lat'] }}" class="triggerMap">Show Map</td> -->#}
        {# <!-- <td data-id="{{ restaurant['id'] }}" class="triggerMap">Show Map</td> --> #}
      </tr>
        {% endfor %}
        {% endfor %}
    </tbody>
  </table>
</div>
{% endif %}

{% if bar_list[0] %}
<h4>Here are some bar options <br>you might like:</h4>
<div class="container">
  <table class="table table-bordered">
    <thead>
      <tr>
        <th>Bar Name</th>
        <th>Rating</th>
        <th>Number of Reviews</th>
        <th>City</th>
        <th>Categories</th>
      </tr>
    </thead>
    <tbody>
      <tr>
        {% for category in bar_list %}
        {% for bar in category %}
        <td><a href="{{ bar['url'] }}" target="_blank">
        {{ bar['name'] }}</a></td>
        <td><img src="{{ bar['rating_img_url'] }}"></td>
        <td>{{ bar['review_count']}}</td>
        <td>{{ bar['location']['city'] }}</td>
        <td>{{ bar['category'] }}</td>
      </tr>
        {% endfor %}
        {% endfor %}
    </tbody>
  </table>
</div>
{% endif %}

{% if activity_list[0] %}
<h4>Here are some activity <br>options you might like:</h4>
<div class="container">
  <table class="table table-bordered">
    <thead>
      <tr>
        <th>Activity/Business Name</th>
        <th>Rating</th>
        <th>Number of Reviews</th>
        <th>City</th>
        <th>Categories</th>
      </tr>
    </thead>
    <tbody>
      <tr>
        {% for category in activity_list %}
        {% for activity in category %}
        <td><a href="{{ activity['url'] }}" target="_blank">
        {{ activity['name'] }}</a></td>
        <td><img src="{{ activity['rating_img_url'] }}"></td>
        <td>{{ activity['review_count']}}</td>
        <td>{{ activity['location']['city'] }}</td>
        <td>{{ activity['category'] }}</td>
      </tr>
        {% endfor %}
        {% endfor %}
    </tbody>
  </table>
</div>
{% endif %}
<div>
<a href="http://www.yelp.com">
<img border="10" alt="Yelp" src="../static/img/yelp_powered_btn_dark.png">
</a></div>

{% endblock %}
